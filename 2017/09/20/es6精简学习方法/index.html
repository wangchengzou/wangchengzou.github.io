<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    

    <title>ES6 精简语法 | 千帆渡</title>
    <meta name="author" content="汪成邹">
    
    <meta name="description" content="前端有我，我会前端">
    
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta property="og:title" content="ES6 精简语法"/>
    <meta property="og:site_name" content="~~博客园~~"/>

    
    <meta property="og:image" content="undefined"/>
    

    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate" href="/atom.xml" title="~~博客园~~" type="application/atom+xml">
    <link rel="stylesheet" href="/css/lib/materialize.min.css">
    <link rel="stylesheet" href="/css/lib/font-awesome.min.css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

    
        <link rel="stylesheet" href="/css/lib/prettify-tomorrow-night-eighties.css" type="text/css">
    
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>


<body>
    <img src="/weixin_favicon.png" style="position: absolute; left: -9999px; opacity: 0; filter: alpha(opacity=0);">

    <nav class="indigo">
    <div class="nav-wrapper">
        <a href="#" data-activates="main-menu" class="button-collapse">
            <i class="fa fa-navicon"></i>
        </a>
        <div class="">
            <a href="/" class="brand-logo hide-on-med-and-down">~~博客园~~</a>
            <ul class="right hide-on-med-and-down">
                
                    <li>
                        <a class="menu-home " href="/" >
                            <i class="fa fa-home "></i>
                            
                            首页
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-archive " href="/archives" >
                            <i class="fa fa-archive "></i>
                            
                            归档
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                            <i class="fa fa-bookmark "></i>
                            
                            分类
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-reading " href="/reading" >
                            <i class="fa fa-book "></i>
                            
                            读书
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-about " href="/about" >
                            <i class="fa fa-user "></i>
                            
                            关于
                        </a>
                    </li>
                
                    <li>
                        <a class="menu-search modal-trigger " href="#search" >
                            <i class="fa fa-search "></i>
                            
                            搜索
                        </a>
                    </li>
                
            </ul>
            <div>
    <ul class="side-nav indigo darken-1" id="main-menu">
        
        <li class="side-user">
            <div class="row">
                <div class="col s4 no-padding">
                    <img class="avatar-image circle responsive-img" src="http://wx3.sinaimg.cn/mw690/006JXC2kgy1fhtihebefjj31i0200e81.jpg" alt="User Avatar">
                </div>
                <div class="info col s8 valign-wrapper no-padding">
                    <div class="valign">
                        <p class="name">汪成邹</p>
                        <p class="desc">Web前端/H5/技术宅</p>
                    </div>
                </div>
            </div>
        </li>
        

        
            <li class="no-padding">
                <a class="waves-effect menu-home " href="/" >
                    <i class="fa fa-home "></i>
                    
                    首页
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-archive " href="/archives" >
                    <i class="fa fa-archive "></i>
                    
                    归档
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-category category-menu" href="javascript:;" data-activates="category-menu" >
                    <i class="fa fa-bookmark "></i>
                    
                    分类
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-reading " href="/reading" >
                    <i class="fa fa-book "></i>
                    
                    读书
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-about " href="/about" >
                    <i class="fa fa-user "></i>
                    
                    关于
                </a>
            </li>
        
            <li class="no-padding">
                <a class="waves-effect menu-search modal-trigger " href="#search" >
                    <i class="fa fa-search "></i>
                    
                    搜索
                </a>
            </li>
        
    </ul>

    <ul class="side-nav indigo darken-1" id="category-menu">
    

            

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/学习笔记/">
                    学习笔记 <span class="right">29 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/面试题目/">
                    面试题目 <span class="right">8 篇</span></a>
                </a>
            </li>

        

            <li class="collapse-level-0" collapse-level="0">
                <a class="no-padding" href="/categories/算法和函数/">
                    算法和函数 <span class="right">3 篇</span></a>
                </a>
            </li>

        

    </ul>
</div>

        </div>
    </div>
</nav>

<div id="search" class="modal search-modal">
    <div class="row">
        <div class="input-field col s12">
              <input id="search-input" type="text">
              <label for="search-input">搜索</label>
        </div>

    </div>
    <div id="search-result" class="search-result col s12">

    </div>
</div>


    <main>
        <div class="container main-container">
    <nav class="page-nav hide-on-small-only">
    <div class="nav-wrapper indigo">
        <span class="breadcrumb">当前位置（分类目录）</span>
        
            
    
    
    <a class="breadcrumb" href="/categories/学习笔记/">学习笔记</a>


        

        
    </div>
</nav>

<article>
    <div class="card">
        <div class="card-content">
            

            <div class="article-title">
                
    
        <h1>ES6 精简语法</h1>
    


            </div>
            <time class="pink-link-context" datetime="2017-09-20T12:48:26.000Z"><a href="/2017/09/20/es6精简学习方法/">2017-09-20</a></time>

            <span id="busuanzi_container_page_pv" class="read-times-container">
    <i class="fa fa-eye"></i>
    <span id="busuanzi_value_page_pv"></span>
</span>

            
    <div class="tags-row">
        
            <a href="/tags/javaScript/" class="chip pink lighten-1">javaScript</a>
        
            <a href="/tags/ES6/" class="chip pink lighten-1">ES6</a>
        
    </div>


            <div class="toc pink-link-context hide-on-med-and-down">
    
</div>


            <div class="entry pink-link-context">
                <p>ES6语法精简总结</p>
<p>1、块级作用域，和常量声明</p>
<pre><code>let  const
</code></pre><p> 2、解构赋值</p>
<pre><code>1，基本类型
    [a,b]=[1,2]
    [a,...b]=[1,2,3,4,5]//“...”表示其对应的参数集合数组
2.变量交换
    [a,b]=[b,a]
3，选择性接收数据--采用空格的形式分开
4，在不确定元素时，采用“...”
5，对象解构定义两个对象，属性名相同，定义值为所赋值
</code></pre><p>3、正则扩展</p>
<pre><code>1，修饰符和表达式可以分开写，定义时第一个参数为表达式，第二个参数为修饰符
2，字符串对正则使用的四大方法
    str.search(&apos;表达式&apos;)//匹配结果的起始位置
    srt.replace(&quot;表达式&quot;)//匹配结果替换
    str.match(&quot;表达式&quot;)//匹配结果输出组成数组
    str.split(&quot;表达式&quot;)//匹配结果拆分成数组
3，修饰符
        y修饰符-- 从头部位置开始匹配
        u修饰符---用于处理两字节数据
        r.sticky--判断是否设置了y修饰符
        r.flags---返回正则表达式的所有修饰符
</code></pre><p>4、字符串的扩展</p>
<pre><code>1，对于两个字节的表示数据，用“｛｝”包起来
2，code编码格式api
        str.length
        str.charAt()
        str.charCodeAt()
        str.charPointAt()----处理两字节数据编码
        String.fromCodePoint()---反编码两字节数据
3，针对两字节的遍历方法使用for---of
        for(let code of str){}
4，判断字符串结构
        str.includes(&quot;str&quot;) ---是否包含“str”
        str.statrsWith(&quot;str&quot;)--- 是否以str开头
        str.endsWith(&quot;str)---是否以str结尾
5，字符串复制
        str.repeat(2)---复制两次
6，补全功能
        padStart(2,&quot;0&quot;)---向前补全
        padEnd(2 ,&quot;0&quot;)---向后补全
7，转义字符失效
        String.raw(&quot;表达式&quot;)
</code></pre><p>5、数值扩展</p>
<pre><code>console.log(Number.isFinite(15))//是不是有尽值
console.log(Number.isFinite(NaN))
console.log(Number.isFinite(1/0))
console.log(Number.isNaN(NaN));//判断是不是数
console.log(Number.isInteger(25))//判断是不是整数
console.log(Number.isInteger(25.0))//判断是不是整数
console.log(Number.isInteger(25.2))//判断是不是整数
console.log(Number.isInteger(&apos;21432&apos;))//判断是不是整数
console.log(Number.MAX_SAFE_INTEGER)
console.log(Number.MIN_SAFE_INTEGER)//表示数值的上下限
console.log(Number.isSafeInteger(67))//表示数值在不在这个范围内
console.log(4.1,Math.trunc(4.1))//4
console.log(4.9,Math.trunc(4.9))//4
console.log(Math.sign(-5))//-1
console.log(Math.sign(0))//0
console.log(Math.sign(5))//判断正负还是零 1
console.log(Math.cbrt(-1))//-1
console.log(Math.cbrt(8))//立方根 2
</code></pre><p>6、数组扩展</p>
<pre><code>Array.of(3,4,5)---将参数转换成对应类型
Array.from(obj)---将类数组转换成真正数组

arr.fill(7)        替换，将所有数据替换成7
arr.fill(7,1,3)  将位置1到3位置结束替换成7

for(let index of arr.keys()){}--遍历出键名
for(let value of arr.values()){}--遍历出键值
for(let [index,value] of arr.entries()){}--遍历出所有数据

arr.copyWithin(x,y,z)--将y和z范围内的值替换到x位置上
===》[1,2,3,4,5].copywithin(0,3,4)----[4,2,3,4,5]

arr.find()---匹配值返回
arr,findIndex()---匹配值的下标返回

arr.includes(x)----数组中是否包含x
</code></pre><p>7、函数扩展</p>
<pre><code>1，处理默认参数
    function test(x,y=&quot;text&quot;){}
2，箭头函数使用  （）=&gt;{}
</code></pre><p>8、对象扩展</p>
<pre><code>1，属性使用
      es6={o,k}  =&gt;es5={o:o,k:k}
2，方法使用
      methed={
          hello(){},
          test(){}
      }
3，拷贝方法
      for(let  [key,value] of Object.entries(text)){}
</code></pre><p>9、symbol使用</p>
<pre><code>1，作用
        设置的变量为独一无二，变量名相同，比较也为false
2，如何取symbol值

    for(let [key,value] of Object.entries(obj)){
        console.log(key,value);
    }//不能取到symbols定义的值
    Object.getOwnPropertySymbols(obj).forEach(function(item){
        console.log(obj[item])
    });//只能取到symbols的值
    Reflect.ownKeys(obj).forEach(function (item){
        console.log(item,obj[item])
    })//能同时取到所有值
</code></pre><p>10、set和map的使用</p>
<pre><code>1，数据结构对比，增查改删
    let map=new Map()
    let array=[]

    //添加
    map.set(&apos;t&apos;,1)
    array.push({t:1})
    console.info(map,array)

    //  查
    let map_exist=map.has(&apos;t&apos;)
    let array_exist=array.find(item=&gt;item.t)
    console.info(map_exist,array_exist)

    //改
    map.set(&apos;t&apos;,2)
    array.forEach(item=&gt;item.t?item.t=2:&apos;&apos;)
    console.info(map_exist,array_exist)

    //删除
    map.delete(&apos;t&apos;)
    let index=array.findIndex(item=&gt;item.t)
    array.splice(index,1)

2，SET对数据 的对比
    let set=new Set()
    let  array=[]

    //增
    set.add({t:1})

    //查
    set.has({t:1})

    //改
    set.forEach(item=&gt;item.t?item.t=2:&apos;&apos;)

    //删
    set.forEach(item=&gt;item.t?set.delete(item):&apos;&apos;)

3，map set对Object对比
    let item={t:1}
    let map=new Map()
    let set=new Set()
    let obj={}

    //增
    map.set(&apos;t&apos;,1)
    set.add(item)
    obj[&apos;t&apos;]=1

    //查
    console.info({
        a:map.has(&apos;t&apos;),
        b:set.has(item),
        c:&apos;t&apos; in obj
    })

    //改
    map.set(&apos;t&apos;,2)
    item.t=2
    obj[&apos;t&apos;]=2

    //删
    map.delete(&apos;t&apos;)
    set.delete(item)
    delete obj[&apos;t&apos;]

4，wrekSet wrekMap使用方法一样，但是只针对Object对象
</code></pre><p>12、proxy和reflect的使用（拦截器、代理器）</p>
<pre><code>let monitor=new Proxy(obj, {
    //拦截对象属性的读取
    get (target, key) {}

    //拦对象设置属性
    set (target, key, value) {}

    has(target, key) {}

    deleteProperty(target, key) {}

    //拦截object.keys,objoct.getownpropertysymbols.
    ownKeys() {}
}
</code></pre><p>13、类和对象的使用</p>
<pre><code>1，创建方法
{
    class Parent{
        constructor(name=&apos;wang&apos;){
            this.name=name;
        }
    }
2，继承方法
    class child extends Parent{//子继承父
        constructor(name=&apos;child&apos;){
            super(name);//表示父对象里面的属性和方法
            this.type=&apos;child&apos;
        }
    }

    let parent1=new Parent(&apos;cheng&apos;)
    console.log(parent1)
    console.log(new child())
}
3，静态方法使用，用于子对象专有，其它对像不能使用（static）
{
    class parent{
        constructor(name=&apos;wang&apos;){
            this.name=name;
        }
        static tell(){
            console.log(&apos;tell&apos;)
        }
    }
    parent.tell()
    parent.type=&apos;3454354&apos;
}
</code></pre><p>14、promise异步操作的使用</p>
<pre><code>{
  let ajax=function(){
    console.log(&apos;执行2&apos;);
    return new Promise(function(resolve,reject){
      setTimeout(function () {
        resolve()
      }, 1000);
    })
  };

  ajax().then(function(){
    console.log(&apos;promise&apos;,&apos;timeout2&apos;);
  })
}

{
  let ajax=function(){
    console.log(&apos;执行3&apos;);
    return new Promise(function(resolve,reject){
      setTimeout(function () {
        resolve()
      }, 1000);
    })
  };

  ajax()
    .then(function(){
    return new Promise(function(resolve,reject){
      setTimeout(function () {
        resolve()
      }, 2000);
    });
  })
    .then(function(){
    console.log(&apos;timeout3&apos;);
  })
}

{
  let ajax=function(num){
    console.log(&apos;执行4&apos;);
    return new Promise(function(resolve,reject){
      if(num&gt;5){
        resolve()
      }else{
        throw new Error(&apos;出错了&apos;)
      }
    })
  }

  ajax(6).then(function(){
    console.log(&apos;log&apos;,6);
  }).catch(function(err){
    console.log(&apos;catch&apos;,err);
  });

  ajax(3).then(function(){
    console.log(&apos;log&apos;,3);
  }).catch(function(err){
    console.log(&apos;catch&apos;,err);
  });
}
</code></pre><p>15、iterator的使用（遍历器方法，使用next（）下一步）</p>
<pre><code>{
  let arr=[&apos;hello&apos;,&apos;world&apos;];
  let map=arr[Symbol.iterator]();
  console.log(map.next());
  console.log(map.next());
  console.log(map.next());
}
</code></pre><p>16、generator的使用（异步编辑方法，使用*表示）</p>
<pre><code>{
  // genertaor基本定义
  let tell=function* (){
    yield &apos;a&apos;;
    yield &apos;b&apos;;
    return &apos;c&apos;
  };

  let k=tell();
  console.log(k.next());
  console.log(k.next());
  console.log(k.next());
  console.log(k.next());
}

{
  let obj={};
  obj[Symbol.iterator]=function* (){
    yield 1;
    yield 2;
    yield 3;
  }

  for(let value of obj){
    console.log(&apos;value&apos;,value);
  }
}

{
  let state=function* (){
    while(1){
      yield &apos;A&apos;;
      yield &apos;B&apos;;
      yield &apos;C&apos;;
    }
  }
  let status=state();
  console.log(status.next());
  console.log(status.next());
  console.log(status.next());
  console.log(status.next());
  console.log(status.next());
}
</code></pre><p>17、decorator的使用(修饰器的使用)</p>
<pre><code>{
  let readonly=function(target,name,descriptor){
    descriptor.writable=false;
    return descriptor
  };

  class Test{
    @readonly//修饰器使用方法
    time(){
      return &apos;2017-03-11&apos;
    }
  }
</code></pre><p>18、模块化使用方法</p>
<pre><code> export let A=123;

 export function test(){}

 export class Hello{
   test(){}
 }

export default {
  test,
  Hello
}
</code></pre>
                
<p class="pink-link-context">
    <a href="/2017/09/23/跨哉/" rel="next" title="前端常见跨域解决方案">
    上一篇：前端常见跨域解决方案
  </a>
</p>



<p class="pink-link-context">
    <a href="/2017/09/18/es6语法/" rel="next" title="ES6 语法">
    下一篇：ES6 语法
  </a>
</p>


            </div>
			
        </div>
    </div>
</article>






</div>

        <div class="fixed-action-btn float-sitemap">
    <a class="btn-floating btn-large pink">
      <i class="fa fa-caret-square-o-up"></i>
    </a>
    <ul>
      <li><a class="btn-return-top btn-floating waves-effect green" title="回到顶部"><i class="fa fa-arrow-circle-o-up"></i></a></li>
      <li><a class="btn-floating waves-effect button-collapse yellow darken-1"  data-activates="main-menu" title="菜单"><i class="fa fa-navicon"></i></a></li>
    </ul>
  </div>

    </main>
    <footer class="page-footer indigo darken-1">
    
    <div class="footer-container container">
        <div class="row">
            
            <div class="social-group col m4 s12">
                <h5 class="white-text">社交</h5>
                
                    <a class="social-link" href="http://weibo.com/6175939680" target="_blank">
                        <i class="fa fa-2x fa-weibo"></i>
                    </a>
                
                    <a class="social-link" href="https://github.com/wangchengzou" target="_blank">
                        <i class="fa fa-2x fa-github"></i>
                    </a>
                
                    <a class="social-link" href="/atom.xml" target="_blank">
                        <i class="fa fa-2x fa-rss"></i>
                    </a>
                
                
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
    </script>
    <div class="site-visitors-container white-text">
        <span>
            <i class="fa fa-user"></i>
            <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
        </span>
        <span>&nbsp;|&nbsp;</span>
        <span>
            <i class="fa fa-eye"></i>
            <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
        </span>
    </div>


            </div>
            

            
            <div class="col m8 s12">
                <h5 class="white-text">友情链接</h5>
                
                    <a class="social-link" href="http://www.qianfandu@163.com" target="_blank">网易邮箱</a>
                
                    <a class="social-link" href="https://github.com/wangchengzou" target="_blank">Github</a>
                
                    <a class="social-link" href="http://www.baidu.com" target="_blank">百度</a>
                
            </div>
            
        </div>
    </div>
    

    <div class="footer-copyright pink-link-context">
        <div class="container">
            © 2017 example.com, All rights reserved.
            <p class="right" style="margin-top: 0;">本博客由 <a href="https://hexo.io">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/wangchengzou">ChengZou Wang</a></p>
        </div>
    </div>
</footer>


    <noscript>
    <div class="noscript">
        <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
    </div>
</noscript>
<div class="noscript">
    <p class="center-align">当前网速较慢或者你使用的浏览器不支持博客特定功能，请尝试刷新或换用Chrome、Firefox等现代浏览器</p>
</div>


<script src="/js/jquery.min.js"></script>
<script src="/js/materialize.min.js"></script>

<script>
    (function($) {
        $(document).ready(function() {
            // 隐藏禁用javascript（针对微信内置浏览器）的提示
            $('.noscript').hide();

            // 图片缩放效果
            var $imgs = $('img').not('.slider-image').not('.avatar-image').not('.carousel-image').not('.card-cover-image').not('.qrcode');

            // 给图片加上点击放大效果（materialbox插件）
            $imgs.addClass('materialboxed').each(function(i, el) {
                $(this).attr('data-caption', $(this).attr('alt') || ' ');
            }).materialbox();

            // 优化表格的显示
            $('table').each(function() {
                var $table = $(this);
                // 除去多行代码的情况
                if ($table.find('pre').length == 0) {
                    $table.addClass('responsive-table striped bordered');
                }
            });

            // 首页幻灯片
            $('.slider').slider({indicators: true, full_width: true, interval: 8000});

            $(".button-collapse").sideNav();
            $(".category-menu").sideNav();

            // 针对gallery post
            $('.carousel').carousel({full_width: true});
            $('.carousel-control.prev').click(function() {
                $('.carousel').carousel('prev');
            });
            $('.carousel-control.next').click(function() {
                $('.carousel').carousel('next');
            });

            // 文章目录
            $('article').not('.simple-article').find('h1').add('h2').add('h3').add('h4').add('h5').add('h6').scrollSpy();

            // 目录随屏幕滚动（防止目录过长越过footer）
            var $toc = $('.toc');
            var scrollTargetTop = 0;
            $(window).scroll(function() {
                var $activeLink = $toc.find('a.active.section');
                if ($(window).scrollTop() < 100) {
                    scrollTargetTop = 0;
                } else {
                    if ($activeLink[0]) {
                        scrollTargetTop = $activeLink.offset().top - $toc.offset().top;
                    }
                }
                $toc.css('top', '-' + scrollTargetTop + 'px');
            });

            // 修正文章目录的left-border颜色
            var color = $('.table-of-contents-text').css('color');
            $('.table-of-contents-link').css('border-left-color', color);

            // 针对移动端做的优化：FAB按钮点击一下收回
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $('.fixed-action-btn').addClass('click-to-toggle');
            }
            // 回到顶部
            $('.btn-return-top').click(function() {
                $('body, html').animate({
                    scrollTop: 0
                }, 500);
            });

            // 重置读书页面的Tab标签页的颜色
            $('li.tab a').hover(function() {
                $(this).toggleClass('text-lighten-4');
            });
            $('.indicator').addClass('pink lighten-2');

            
            // 添加new标签
            $('.menu-reading, .menu-about').append('<span class="new badge pink"></span>');
            

            // 搜索功能
            $('.modal-trigger').leanModal({
                // 打开搜索框时自动聚焦
                ready: function() {
                    if ($('#search').is(":visible")) {
                        $('#search-input').focus();
                    }
                }
            });
            var searchXml = "";
            if (searchXml.length == 0) {
             	searchXml = "search.xml";
            }
            var searchPath = "/" + searchXml;
            initSearch(searchPath, 'search-input', 'search-result');
        });

        // 初始化搜索与匹配函数
        var initSearch = function(path, search_id, content_id) {
            'use strict';
            $.ajax({
                url: path,
                dataType: "xml",
                success: function(xmlResponse) {
                    // get the contents from search data
                    var datas = $("entry", xmlResponse).map(function() {
                        return {
                            title: $("title", this).text(),
                            content: $("content", this).text(),
                            url: $("url", this).text()
                        };
                    }).get();
                    var $input = document.getElementById(search_id);
                    var $resultContent = document.getElementById(content_id);
                    $input.addEventListener('input', function() {
                        var str = '<ul class=\"search-result-list\">';
                        var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                        $resultContent.innerHTML = "";
                        if (this.value.trim().length <= 0) {
                            return;
                        }
                        // perform local searching
                        datas.forEach(function(data) {
                            var isMatch = true;
                            var content_index = [];
                            var data_title = data.title.trim().toLowerCase();
                            var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                            var data_url = data.url;
                            var index_title = -1;
                            var index_content = -1;
                            var first_occur = -1;
                            // only match artiles with not empty titles and contents
                            if (data_title != '' && data_content != '') {
                                keywords.forEach(function(keyword, i) {
                                    index_title = data_title.indexOf(keyword);
                                    index_content = data_content.indexOf(keyword);
                                    if (index_title < 0 && index_content < 0) {
                                        isMatch = false;
                                    } else {
                                        if (index_content < 0) {
                                            index_content = 0;
                                        }
                                        if (i == 0) {
                                            first_occur = index_content;
                                        }
                                    }
                                });
                            }
                            // show search results
                            if (isMatch) {
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    data_title = data_title.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                });

                                str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                                var content = data.content.trim().replace(/<[^>]+>/g, "");
                                if (first_occur >= 0) {
                                    // cut out 100 characters
                                    var start = first_occur - 20;
                                    var end = first_occur + 80;
                                    if (start < 0) {
                                        start = 0;
                                    }
                                    if (start == 0) {
                                        end = 100;
                                    }
                                    if (end > content.length) {
                                        end = content.length;
                                    }
                                    var match_content = content.substring(start, end);
                                    // highlight all keywords
                                    keywords.forEach(function(keyword) {
                                        var regS = new RegExp(keyword, "gi");
                                        match_content = match_content.replace(regS, "<span class=\"search-keyword pink lighten-2\">" + keyword + "</span>");
                                    });

                                    str += "<p class=\"search-result\">..." + match_content + "...</p>"
                                }
                                str += "</li>";
                            }
                        });
                        str += "</ul>";
                        $resultContent.innerHTML = str;
                    });
                }
            });
        }
    })(jQuery);
</script>


<script src="/js/prettify.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $("pre").addClass("prettyprint");
        prettyPrint();
    });
</script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript" async
  src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>



</body>
</html>
